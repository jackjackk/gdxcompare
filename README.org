#+TITLE: gdxcompare
#+OPTIONS: toc:nil h:1

* Purpose

Tool to compare symbols in GAMS Data eXchange (GDX) files with time series data (specifically integer indexed data).

* Usage

Add ~gdxcompare~ path to the ~PYTHONPATH~ environment variable, then call
#+BEGIN_EXAMPLE
python -m gdxcompare [options] gdx1 gdx2 ...
#+END_EXAMPLE
An HTML page will open up, showing something similar to the following
[[file:other/gdxcompare-screenshot.png]]
- Symbols (variables, parameters) are listed on the left and are selected by left clicking.
- Set dependencies and corresponding elements are listed in adjacent columns. Set elements are selected via mouse hovering.
- The color of the cells indicate the relative variance across elements in a set, so that blue elements will exhibit smaller differences across GDXs than red elements.
- The time series of the queried data is shown on the right. A title reports the description of the selected symbol and the last element selected. The time axis is identified as the first set with integer elements.
- Zooming is supported via horizontal or vertical mouse dragging. Mouse hovering provides details on the top right corner.

* Requirements

- Python (tested only with version 2.7).
- up-to-date [[http://www.numpy.org/%E2%80%8E][numpy]] module.
- up-to-date [[http://pandas.pydata.org/][pandas]] module.
- up-to-date [[https://github.com/jackjackk/gdxpy][gdxpy]] (requires manual installation from github).

* Options

Options
| Short version    | Long version           | Description                                                                                                                                                                                                                                   |
|------------------+------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -h               | --help                 | Show this options list and exit                                                                                                                                                                                                               |
| -m XMAX          | --xmax=XMAX            | Max value for x-axis [0 = no max, default]                                                                                                                                                                                                    |
| -f XMIN          | --xmin=XMIN            | Min value for x-axis [0 = no min, default]                                                                                                                                                                                                    |
| -r RENAME_STRING | --rename=RENAME_STRING | Comma-separated list of new names to give to GDXs (no spaces)                                                                                                                                                                                 |
| -s SYMB_REGEX    | --symb=SYMB_REGEX      | Regex for filtering symbols [use ''frep'' profile by default], see option below                                                                                                                                                               |
| -p PROF          | --profile=PROF         | Profile name, associated to a predefined combination of regex for filtering symbols [use a profile called ''frep'' by default, defined in ''compare.py'', which gives a subset of results that are usually looked in WITCH GDX results files] |
| -x LAMBDA_EXPR   | --xlambda=LAMBDA_EXPR  | Lambda function applied to each element of the x-axis                                                                                                                                                                                         |
| -d               | --disaggsymb           | Flag to disaggregate large symbols across elements of the first domain                                                                                                                                                                        |
For example:

#+BEGIN_EXAMPLE
python -m gdxcompare -sQ -rbau,ref -m20 results_bau.gdx results_ref.gdx
#+END_EXAMPLE

will compare symbols starting with ''Q'' of the two GDX files ''results_bau.gdx'' and ''results_ref.gdx'' in the current path, labelling them as ''bau'' and ''ref'', and showing results up to period 20.

* DISCLAIMER

THIS SOFTWARE IS PRIVIDED "AS IS" AND COMES WITH NO WARRANTY. USE AT YOUR OWN RISK. IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING BUT NOT LIMITED TO LOSS OR CORRUPTION OF DATA). USE AT YOUR OWN RISK.
